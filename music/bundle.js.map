{"version":3,"sources":["webpack:///webpack/bootstrap 483cb63eb70cbc99e3d4","webpack:///index.js"],"names":["width","height","aspect","scene","THREE","Scene","renderer","WebGLRenderer","setSize","shadowMap","enabled","type","PCFSoftShadowMap","document","body","appendChild","domElement","createElement","dancer","Dancer","a","Audio","src","load","play","camera","PerspectiveCamera","add","position","set","lookAt","Vector3","controls","OrbitControls","dancers","i","material","SpriteMaterial","sprite","Sprite","push","inc","intensity","render","wave","getWaveform","spec","getSpectrum","avg","Math","abs","reduce","b","length","console","log","forEach","val","index","color","round","floor","requestAnimationFrame"],"mappings":"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","file":"old/web/music/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 483cb63eb70cbc99e3d4","//Initialize, some config variables\r\nvar width = 800;\r\nvar height = 600;\r\nvar aspect = width / height;\r\nvar scene = new THREE.Scene();\r\n\r\n//Set up the renderer\r\nvar renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(width, height);\r\nrenderer.shadowMap.enabled = true\r\nrenderer.shadowMap.type = THREE.PCFSoftShadowMap\r\ndocument.body.appendChild(renderer.domElement);\r\ndocument.body.appendChild(document.createElement(\"br\"));\r\n\r\n//prep audio\r\n var dancer = new Dancer();\r\n\r\n  // Using an audio object\r\n  var a = new Audio();\r\n  a.src = 'assets/moon.mp3';\r\n  dancer.load( a );\r\n  dancer.play();\r\n\r\n//camera\r\nvar camera = new THREE.PerspectiveCamera(50, aspect, 0.1, 1000);\r\nscene.add(camera);\r\ncamera.position.set(0,0,165)\r\ncamera.lookAt(new THREE.Vector3(0, 0, 0))\r\n\r\n//orbit controls\r\nvar controls = new THREE.OrbitControls(camera, renderer.domElement);\r\n\r\n//particle\r\nvar dancers = [];\r\nfor(let i = 0;i<1024;i++){\r\nvar material = new THREE.SpriteMaterial(  );\r\nvar sprite = new THREE.Sprite( material );\r\nscene.add( sprite );\r\ndancers.push(sprite);\r\n}\r\nvar inc = 0;\r\nvar intensity = 1440\r\nfunction render() {\r\n    var wave = dancer.getWaveform();\r\n    var spec = dancer.getSpectrum();\r\n    var avg = Math.abs((wave.reduce(function(a,b){return a+b})/wave.length)*10000)+30;\r\n    console.log(avg)\r\n    //I'd say this is all of the pitches\r\n    dancers.forEach(function(val,index){\r\n        val.material = new THREE.SpriteMaterial({color:\"hsl(\"+index*0.3515625+\",\"+Math.round(avg)+\"%,50%)\"})\r\n        val.position.set((index-512)/5,(wave[index]*30),spec[Math.floor(index/32)]*800)\r\n    })\r\n    renderer.render(scene, camera);\r\n    requestAnimationFrame(render);\r\n}\r\nrender();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// index.js"],"sourceRoot":""}